how do you measure the time spent in a context switch?
=====================================

如何计算上下文切换的时间


上下文切换是指：将CPU的控制权从一个进程或线程切换到另一个。上下文切换一般发生在多任务系统中，操作系统必须把等待
进程的状态信息载入内存，同时保存正在运行的的进程的状态信息。
准确的记录上下文切换的时间需要记录两个进程切换时第一条指令和最后一条指令的时间戳，上下文切换的时间即为二者的差值
思路非常简单，问题在于，上下文切换是合适发生的？进程的切换由OS的调度算法实现，我们无法记录进程中每个指令的时间戳
最多只能依赖底层操作系统来做近似计算。一个近似解法是在记录一个进程结束时的时间戳，另一个进程的开始时间及排除等待
时间。

